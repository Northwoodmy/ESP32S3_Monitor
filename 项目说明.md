# ESP32S3监控项目

## 项目简介

这是一个基于ESP32S3开发的监控项目，使用Arduino IDE开发环境。项目采用FreeRTOS任务调度，实现模块化设计。

## 功能特性

- 每秒输出一次"hello world"
- 基于FreeRTOS任务实现
- 模块化C++设计
- 使用printf进行调试输出

## 技术规格

- **开发板**: ESP32S3
- **开发环境**: Arduino IDE
- **编程语言**: C++
- **操作系统**: FreeRTOS
- **调试方式**: printf输出（无串口配置）

## 系统架构

### 文件结构

```
ESP32S3_Monitor/
├── ESP32S3_Monitor.ino    # 主程序文件
├── Monitor.h              # 监控器类头文件
├── Monitor.cpp            # 监控器类实现文件
└── 项目说明.md            # 项目说明文档
```

### 类设计

- **Monitor类**: 核心监控器类，负责管理Hello World输出任务

### 任务设计

- **HelloWorldTask**: 优先级2，每秒输出一次"hello world"

## 编译和运行

1. 在Arduino IDE中打开`ESP32S3_Monitor.ino`
2. 选择ESP32S3开发板
3. 编译并上传到开发板
4. 打开串口监视器查看输出

## 版本更新日志

### v1.0.2 (修复分区表重叠问题)
- 🐛 修复partitions.csv分区表重叠问题
- 🐛 修复app分区对齐问题，确保符合0x10000边界对齐要求
- ✅ 调整app0分区起始地址从0x10000到0x20000，满足64KB边界对齐
- ✅ 优化app0和app1分区大小为0x5F0000
- ✅ 调整spiffs分区偏移到0xC00000，大小为0x2F0000
- ✅ 调整coredump分区偏移到0xEF0000，确保分区边界正确对齐

### v1.0.1 (修复任务运行问题)
- 🐛 修复任务只执行一次的竞态条件问题
- ✅ 调整isRunning标志设置时机，在任务创建前设置
- ✅ 优化任务循环逻辑，避免任务意外退出
- ✅ 确保Hello World能够持续每秒输出

### v1.0.0 (初始版本)
- ✅ 创建基础项目结构
- ✅ 实现Monitor监控器类
- ✅ 实现Hello World输出任务
- ✅ 配置FreeRTOS任务调度
- ✅ 设置任务优先级为2
- ✅ 实现每秒输出功能
- ✅ 添加模块化C++设计
- ✅ 使用printf进行调试输出
- ✅ setup()仅做初始化，loop()不处理任务

## 开发规范

1. 程序采用模块化设计，优先使用C++
2. 使用FreeRTOS进行开发，通过任务实现功能
3. setup()只做初始化，loop()不做任何任务处理
4. 使用printf输出调试信息（无串口配置）
5. 合理调整各个任务的优先级

## 未来计划

本项目为基础监控框架，后续可扩展更多监控功能。 