{
    "version": "v6.0.16",
    "build_date": "2024-12-19",
    "description": "ESP32S3 Monitor Project - 服务器设置页面新增自动获取数据和自动扫描服务器开关",
    "changes": [
        "新增自动获取数据开关：用户可控制是否自动从服务器获取监控数据",
        "新增自动扫描服务器开关：用户可控制是否自动扫描网络中的cp02服务器",
        "扩展服务器配置存储：增加autoGetData和autoScanServer配置项",
        "优化服务器设置页面：在请求设置部分添加两个功能开关",
        "增强配置管理：支持新功能开关的保存和加载"
    ],
    "release_date": "2024-12-19",
    "size": 1048576,
    "download_url": "http://egota.yingdl.com/firmware/esp32s3_monitor_v6.0.0.bin",
    "checksum": "sha256:abcd1234567890abcdef1234567890abcdef1234567890abcdef1234567890ab",
    "changelog": {
        "added": [
            "HTTP客户端监控功能",
            "JSON数据解析和显示",
            "端口状态实时监控",
            "系统信息监控面板",
            "任务性能监控功能",
            "WiFi连接状态监控",
            "可配置监控数据获取间隔",
            "监控任务PSRAM栈支持",
            "服务器设置页面mDNS扫描功能",
            "网络设备自动发现功能",
            "设备列表卡片显示",
            "一键选择设备功能",
            "自动获取数据开关：控制是否自动从服务器获取监控数据",
            "自动扫描服务器开关：控制是否自动扫描网络中的cp02服务器"
        ],
        "improved": [
            "Monitor类架构重构",
            "任务优先级调整为3",
            "栈大小增加至8192字节",
            "错误处理机制完善",
            "调试信息输出优化",
            "服务器设置页面按钮样式统一化",
            "按钮加载状态动画优化",
            "JavaScript代码结构改进",
            "服务器状态显示简化优化",
            "用户界面简化整理",
            "服务器IP地址输入体验优化",
            "mDNS扫描用户界面体验",
            "设备选择交互流程优化",
            "响应式设计适配",
            "mDNS扫描设备名称显示逻辑优化",
            "设备名称显示优先级调整：实际服务名称优先"
        ],
        "fixed": [
            "修复JavaScript中访问不存在的enableServer元素导致的错误",
            "修复mDNS扫描设备名称显示不准确的问题",
            "修复点击保存配置按钮时的JavaScript错误"
        ],
        "removed": [
            "Hello World简单输出功能",
            "服务器状态详细技术信息显示",
            "服务器数据显示功能",
            "获取服务器数据按钮",
            "服务器数据相关JavaScript函数",
            "服务器数据相关CSS样式",
            "启用服务器数据获取开关"
        ]
    },
    "technical_details": {
        "new_features": [
            "HTTPClient客户端集成",
            "ArduinoJson库支持",
            "monitoringTask()监控任务函数",
            "fetchMetricsData()数据获取方法",
            "parseAndDisplayMetrics()数据解析方法",
            "displayPortInfo()端口信息显示",
            "displaySystemInfo()系统信息显示",
            "displayWiFiInfo()WiFi信息显示",
            "isWiFiConnected()WiFi状态检测",
            "handleMDNSScanServers()mDNS扫描API",
            "startMDNSScan()前端扫描函数",
            "displayScanResults()设备列表显示",
            "selectDevice()设备选择功能",
            "UniversalMDNSScanner集成"
        ],
        "code_optimization": [
            "任务栈大小优化(8192字节)",
            "PSRAM栈支持",
            "HTTP请求超时控制",
            "内存使用优化",
            "任务循环结构改进",
            "按钮状态管理优化",
            "前端JavaScript代码重构",
            "服务器状态显示逻辑简化",
            "用户界面代码清理",
            "mDNS扫描逻辑优化",
            "设备名称处理逻辑改进",
            "JavaScript错误处理增强"
        ],
        "functionality": [
            "定时获取http://10.10.168.168/metrics.json数据",
            "解析端口电压电流信息",
            "显示系统运行状态",
            "监控任务性能指标",
            "WiFi连接状态检测"
        ]
    },
    "compatibility": {
        "api_changes": true,
        "config_format": "兼容现有配置格式",
        "backward_compatible": false
    },
    "requirements": {
        "esp32_version": ">=2.0.0",
        "arduino_ide": ">=1.8.19",
        "flash_size": "16MB",
        "psram": "8MB",
        "libraries": [
            "ArduinoJson",
            "HTTPClient",
            "WiFi"
        ]
    },
    "features": [
        "HTTP监控数据获取",
        "JSON数据解析",
        "端口状态监控",
        "系统信息监控",
        "任务性能监控",
        "WiFi状态监控",
        "WiFi配置管理",
        "LCD显示系统",
        "PSRAM内存管理",
        "天气数据获取",
        "音频播放功能",
        "OTA固件升级",
        "美化天气界面",
        "动画视觉效果",
        "省市区级联选择器",
        "时间设置功能",
        "屏幕设置功能"
    ],
    "release_notes": "此版本对Monitor类进行了重大重构，从简单的Hello World任务升级为功能完整的HTTP监控系统。新系统支持通过HTTP请求获取metrics.json监控数据，并实时解析显示端口状态（电流、电压）、系统信息、任务性能和WiFi状态等关键信息。监控任务优先级设置为3，采用8192字节栈空间，支持PSRAM栈以提升性能。系统每5秒自动获取一次监控数据，确保信息的实时性。此版本为不兼容更新，建议用户完全重新部署。",
    "status": "stable"
} 