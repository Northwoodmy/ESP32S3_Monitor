{
    "version": "v6.0.11",
    "build_date": "2024-12-19",
    "description": "ESP32S3 Monitor Project - 天气城市配置修复版本",
    "changes": [
        "修复天气配置加载问题：解决重启后总是加载默认北京天气的问题",
        "删除硬编码的城市代码设置：移除ESP32S3_Monitor.ino中强制设置110000的代码",
        "修复城市代码与城市名称不匹配问题：确保用户设置的城市信息正确保存和加载",
        "增强配置验证逻辑：添加城市代码和城市名称的一致性验证",
        "优化默认配置：使用空值而非硬编码的北京代码作为默认值",
        "增加详细日志记录：配置加载和保存过程的详细状态输出",
        "完善错误诊断：提供更详细的配置状态信息帮助用户诊断问题"
    ],
    "release_date": "2024-12-19",
    "size": 1048576,
    "download_url": "http://egota.yingdl.com/firmware/esp32s3_monitor_v6.0.0.bin",
    "checksum": "sha256:abcd1234567890abcdef1234567890abcdef1234567890abcdef1234567890ab",
    "changelog": {
        "added": [
            "HTTP客户端监控功能",
            "JSON数据解析和显示",
            "端口状态实时监控",
            "系统信息监控面板",
            "任务性能监控功能",
            "WiFi连接状态监控",
            "可配置监控数据获取间隔",
            "监控任务PSRAM栈支持"
        ],
        "improved": [
            "Monitor类架构重构",
            "任务优先级调整为3",
            "栈大小增加至8192字节",
            "错误处理机制完善",
            "调试信息输出优化",
            "服务器设置页面按钮样式统一化",
            "按钮加载状态动画优化",
            "JavaScript代码结构改进"
        ],
        "fixed": [],
        "removed": [
            "Hello World简单输出功能"
        ]
    },
    "technical_details": {
        "new_features": [
            "HTTPClient客户端集成",
            "ArduinoJson库支持",
            "monitoringTask()监控任务函数",
            "fetchMetricsData()数据获取方法",
            "parseAndDisplayMetrics()数据解析方法",
            "displayPortInfo()端口信息显示",
            "displaySystemInfo()系统信息显示",
            "displayWiFiInfo()WiFi信息显示",
            "isWiFiConnected()WiFi状态检测"
        ],
        "code_optimization": [
            "任务栈大小优化(8192字节)",
            "PSRAM栈支持",
            "HTTP请求超时控制",
            "内存使用优化",
            "任务循环结构改进",
            "按钮状态管理优化",
            "前端JavaScript代码重构"
        ],
        "functionality": [
            "定时获取http://10.10.168.168/metrics.json数据",
            "解析端口电压电流信息",
            "显示系统运行状态",
            "监控任务性能指标",
            "WiFi连接状态检测"
        ]
    },
    "compatibility": {
        "api_changes": true,
        "config_format": "兼容现有配置格式",
        "backward_compatible": false
    },
    "requirements": {
        "esp32_version": ">=2.0.0",
        "arduino_ide": ">=1.8.19",
        "flash_size": "16MB",
        "psram": "8MB",
        "libraries": [
            "ArduinoJson",
            "HTTPClient",
            "WiFi"
        ]
    },
    "features": [
        "HTTP监控数据获取",
        "JSON数据解析",
        "端口状态监控",
        "系统信息监控",
        "任务性能监控",
        "WiFi状态监控",
        "WiFi配置管理",
        "LCD显示系统",
        "PSRAM内存管理",
        "天气数据获取",
        "音频播放功能",
        "OTA固件升级",
        "美化天气界面",
        "动画视觉效果",
        "省市区级联选择器",
        "时间设置功能",
        "屏幕设置功能"
    ],
    "release_notes": "此版本对Monitor类进行了重大重构，从简单的Hello World任务升级为功能完整的HTTP监控系统。新系统支持通过HTTP请求获取metrics.json监控数据，并实时解析显示端口状态（电流、电压）、系统信息、任务性能和WiFi状态等关键信息。监控任务优先级设置为3，采用8192字节栈空间，支持PSRAM栈以提升性能。系统每5秒自动获取一次监控数据，确保信息的实时性。此版本为不兼容更新，建议用户完全重新部署。",
    "status": "stable"
} 